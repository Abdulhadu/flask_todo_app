{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, message in messages %}
<div id="alert-border-1"
    class="flex w-full rounded-lg  px-7 py-8 shadow-md md:p-9
    {% if category == 'danger' %}
    border-l-[6px] border-[#d33461] bg-[#d33461]
    {% elif category == 'success' %}
    border-l-[6px] border-[#34D399] bg-[#34D399]
    {% endif %}
    bg-opacity-[15%]">
    <div class="mr-5 flex h-9 w-full max-w-[36px] items-center justify-center
    {% if category == 'danger' %}
        rounded-lg bg-red-500
    {% elif category == 'success' %}
        rounded-lg bg-green-500
    {% endif %}
    ">
    <svg
    width="16"
    height="12"
    viewBox="0 0 16 12"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M15.2984 0.826822L15.2868 0.811827L15.2741 0.797751C14.9173 0.401867 14.3238 0.400754 13.9657 0.794406L5.91888 9.45376L2.05667 5.2868C1.69856 4.89287 1.10487 4.89389 0.747996 5.28987C0.417335 5.65675 0.417335 6.22337 0.747996 6.59026L0.747959 6.59029L0.752701 6.59541L4.86742 11.0348C5.14445 11.3405 5.52858 11.5 5.89581 11.5C6.29242 11.5 6.65178 11.3355 6.92401 11.035L15.2162 2.11161C15.5833 1.74452 15.576 1.18615 15.2984 0.826822Z"
      fill="white"
      stroke="white"
    ></path>
  </svg>
    </div>
    <div class="w-full">
        <h5 class="mb-3 text-lg font-semibold text-white">
            {{ message }}
        </h5>
    </div>
    <button type="button"
        class="ml-auto -mx-1.5 -my-1.5 bg-blue-50 text-blue-500 rounded-lg focus:ring-2 focus:ring-blue-400 p-1.5 hover:bg-blue-200 inline-flex items-center justify-center h-8 w-8 dark:bg-gray-800 dark:text-blue-400 dark:hover:bg-gray-700"
        data-dismiss-target="#alert-border-1" aria-label="Close">
        <span class="sr-only">Dismiss</span>
        <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
        </svg>
    </button>
</div>
{% endfor %}
{% endif %}
{% endwith %}

<script>
    // JavaScript to handle the dismiss button
    const dismissButton = document.querySelector('[data-dismiss-target="#alert-border-1"]');
    const alertElement = document.querySelector('#alert-border-1');

    dismissButton.addEventListener('click', () => {
        alertElement.style.display = 'none';
    });
</script>
